---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import Landing from "../components/Landing.astro";
import About from "../components/About.astro";
import Skills from "../components/Skills.astro";
import Timeline from "../components/Timeline.astro";
import Projects from "../components/Projects.astro";
import Links from "../components/Links.astro";
import Footer from "../components/Footer.astro";
---

<Layout>
  <Header />
  <main>
    <Landing />
    <About />
    <Skills />
    <Timeline />
    <Projects />
    <Links />
  </main>
  <Footer />
</Layout>

<style>
  main {
    margin-inline: auto;
    max-width: 1600px;
  }
</style>

<script>
  const fadeInItem = document.querySelectorAll(".fade-in");

  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          (entry.target as HTMLElement).style.animationName = "fade-in";
          observer.unobserve(entry.target);
        }
      });
    },
    { rootMargin: "10% 0px -10% 0px" }
  );

  fadeInItem.forEach((item) => {
    observer.observe(item);
  });
</script>
